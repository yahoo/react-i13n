<!DOCTYPE html>
<html id="atomic">
  <head>
    <title>React-i13n Functional Test</title>
    <script>
      (function(html) {
        var c = html.className;
        c += ' JsEnabled';
        c = c.replace('NoJs', '');
        html.className = c;
      })(document.documentElement);
      if (!window.console) {
        console = {
          log: function() {},
          debug: function() {},
          info: function() {},
          warn: function() {},
          error: function() {}
        };
      }
    </script>
    <link href="css/atomic.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../../node_modules/mocha/mocha.css" />
  </head>
  <body>
    <div id="container" class="test-container Fw(100)"></div>
    <div id="mocha"></div>
    <script src="../../node_modules/mocha/mocha.js"></script>
    <script src="../../node_modules/expect.js/index.js"></script>
    <script src="../../node_modules/es5-shim/es5-shim.js"></script>
    <script src="../../node_modules/es5-shim/es5-sham.js"></script>
    <script src="main.js"></script>
    <script src="i13n-functional.js"></script>
    <script>
      mocha.setup('bdd');
    </script>
    <script src="i13n.spec.js"></script>
    <script>
      (function() {
        var runner = mocha.run();

        var failedTests = [];
        runner.on('end', function() {
          window.mochaResults = runner.stats;
          window.mochaResults.reports = failedTests;
        });

        function flattenTitles(test) {
          var titles = [];
          while (test.parent.title) {
            titles.push(test.parent.title);
            test = test.parent;
          }
          return titles.reverse();
        }

        runner.on('fail', function(test, err) {
          failedTests.push({
            name: test.title,
            result: false,
            message: err && err.message,
            stack: err && err.stack,
            titles: flattenTitles(test)
          });
        });
      })();
    </script>
  </body>
</html>
